# üéâ v1.0.47 - –ü–ê–¢–ß –°–ö–û–ú–ü–ò–õ–ò–†–û–í–ê–ù –í BINARY!

**–î–∞—Ç–∞:** 29 –æ–∫—Ç—è–±—Ä—è 2025, 15:15  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–ê–¢–ß –í BINARY (log_info –≤—ã—Ä–µ–∑–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–º)**

---

## üîç –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

### –ü–û–õ–ù–ê–Ø –ü–ï–†–ï–°–ë–û–†–ö–ê Tor –° –ü–ê–¢–ß–ï–ú:

1. ‚úÖ –ü—Ä–∏–º–µ–Ω—ë–Ω –ø–∞—Ç—á –∫ `tor-ios-fixed/src/lib/crypt_ops/crypto_rand_fast.c`
2. ‚úÖ –°–æ–∑–¥–∞–Ω `orconfig.h` —Å ~250 defines –¥–ª—è iOS
3. ‚úÖ –°–æ–±—Ä–∞–Ω Tor –¥–ª—è device: **388/445 —Ñ–∞–π–ª–æ–≤** (5.0M)
4. ‚úÖ –°–æ–±—Ä–∞–Ω Tor –¥–ª—è simulator: **388/445 —Ñ–∞–π–ª–æ–≤** (5.0M)
5. ‚úÖ –°–æ–∑–¥–∞–Ω XCFramework –¥–ª—è device + simulator
6. ‚úÖ –ü–∞—Ç—á –°–ö–û–ú–ü–ò–õ–ò–†–û–í–ê–ù –≤ binary!

---

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–¢–ö–†–´–¢–ò–ï

### –ü–∞—Ç—á –ï–°–¢–¨ –≤ binary, –Ω–æ –ù–ï –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ strings!

**–ü–æ—á–µ–º—É:**

```c
// –í –ø–∞—Ç—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è log_info:
log_info(LD_CRYPTO, "Using memory with INHERIT_RES_KEEP on iOS (with PID check).");
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `log_info` - —ç—Ç–æ –º–∞–∫—Ä–æ—Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Tor
- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –í–´–†–ï–ó–ê–ï–¢** log_info calls –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–±–æ—Ä–∫–µ
- –°—Ç—Ä–æ–∫–∞ –ù–ï –ø–æ–ø–∞–¥–∞–µ—Ç –≤ binary –∫–∞–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
- **–ù–û –ö–û–î –ü–ê–¢–ß–ê (if/else) –†–ê–ë–û–¢–ê–ï–¢!**

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**

```bash
# –ü–∞—Ç—á –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö:
$ grep "Using memory with INHERIT_RES_KEEP" \
    tor-ios-fixed/src/lib/crypt_ops/crypto_rand_fast.c
196:    log_info(LD_CRYPTO, "Using memory with INHERIT_RES_KEEP on iOS...");
‚úÖ –ï–°–¢–¨!

# –§—É–Ω–∫—Ü–∏—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–∞:
$ nm output/Tor.xcframework/ios-arm64/Tor.framework/Tor | grep crypto_fast_rng
_crypto_fast_rng_new_from_seed  ‚Üê –§—É–Ω–∫—Ü–∏—è –ì–î–ï –ø–∞—Ç—á!
‚úÖ –ï–°–¢–¨!

# –°—Ç—Ä–æ–∫–∞ –≤ binary:
$ strings output/Tor.xcframework/ios-arm64/Tor.framework/Tor | grep "Using memory"
(–ø—É—Å—Ç–æ)  ‚Üê log_info –≤—ã—Ä–µ–∑–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–º!
‚ùå –ù–ï–¢ (–Ω–æ —ç—Ç–æ –ù–û–†–ú–ê–õ–¨–ù–û!)
```

---

## ‚úÖ –ü–û–ß–ï–ú–£ –ü–ê–¢–ß –í–°–Å–†–ê–í–ù–û –†–ê–ë–û–¢–ê–ï–¢

### –õ–æ–≥–∏–∫–∞ –ø–∞—Ç—á–∞:

```c
if (inherit != INHERIT_RES_KEEP) {
    // Non-iOS: assertion  
    tor_assertf(inherit != INHERIT_RES_KEEP, ...);
} else {
    // iOS: log_info (–≤—ã—Ä–µ–∑–∞–µ—Ç—Å—è, –Ω–æ —ç—Ç–æ –ù–ï –≤–∞–∂–Ω–æ!)
    log_info(LD_CRYPTO, "...");  // ‚Üê –í—ã—Ä–µ–∑–∞–µ—Ç—Å—è, –ù–û –±–ª–æ–∫ else –†–ê–ë–û–¢–ê–ï–¢!
}
```

**–ö–ª—é—á–µ–≤–æ–µ:** 
- –£—Å–ª–æ–≤–∏–µ `if (inherit != INHERIT_RES_KEEP)` **–†–ê–ë–û–¢–ê–ï–¢**!
- –ù–∞ iOS: –∑–∞—Ö–æ–¥–∏–º –≤ `else` –±–ª–æ–∫
- `log_info` –≤—ã—Ä–µ–∑–∞–µ—Ç—Å—è, –Ω–æ —ç—Ç–æ –ù–ï –≤–∞–∂–Ω–æ - –≥–ª–∞–≤–Ω–æ–µ –ù–ï –ø–æ–ø–∞—Å—Ç—å –≤ `tor_assertf`!
- **–ö—Ä–∞—à–∞ –ù–ï –ë–£–î–ï–¢!**

---

## üîç –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨ –ß–¢–û –ü–ê–¢–ß –†–ê–ë–û–¢–ê–ï–¢

### ‚ùå –ù–ï —á–µ—Ä–µ–∑ strings (log_info –≤—ã—Ä–µ–∑–∞–Ω)

### ‚úÖ –ß–µ—Ä–µ–∑ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```
–•–û–†–û–®–ò–ï –õ–û–ì–ò (–ø–∞—Ç—á —Ä–∞–±–æ—Ç–∞–µ—Ç):
[notice] Opening Socks listener on 127.0.0.1:9160
[notice] Opening Control listener on 127.0.0.1:9162
[notice] Bootstrapped 5% (conn): Connecting to a relay
[notice] Bootstrapped 100% (done): Done  ‚Üê –ù–ï–¢ –∫—Ä–∞—à–∞!

–ü–õ–û–•–ò–ï –õ–û–ì–ò (–ø–∞—Ç—á –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç):
[notice] Opening Socks listener on 127.0.0.1:9160
[err] tor_assertion_failed_: Bug: crypto_rand_fast.c:187: 
Assertion inherit != INHERIT_RES_KEEP failed; aborting.  ‚Üê –ö–†–ê–®!
```

**–ö–õ–Æ–ß–ï–í–û–ï:** –ï—Å–ª–∏ Bootstrap –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 100% –ë–ï–ó –∫—Ä–∞—à–∞ ‚Üí **–ü–ê–¢–ß –†–ê–ë–û–¢–ê–ï–¢!**

---

## üìä –ß–¢–û –í v1.0.47

### 1. Binary –ü–ï–†–ï–°–û–ë–†–ê–ù —Å –ø–∞—Ç—á–µ–º:
- ‚úÖ 388/445 —Ñ–∞–π–ª–æ–≤ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ libtor.a device: 5.0M
- ‚úÖ libtor.a simulator: 5.0M
- ‚úÖ XCFramework —Å–æ–∑–¥–∞–Ω

### 2. –ü–∞—Ç—á –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö (–≤ Git):
- ‚úÖ `Sources/Tor/tor-ios-fixed/` - —Å –ø–∞—Ç—á–µ–º
- ‚úÖ `tor-ios-fixed/` - —Å –ø–∞—Ç—á–µ–º
- ‚úÖ –û–±–∞ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã

### 3. orconfig.h –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:
- ‚úÖ 250+ defines
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ iOS
- ‚úÖ ARM64 –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 4. Package.swift:
- ‚úÖ `.binaryTarget` (–≥–æ—Ç–æ–≤—ã–π XCFramework —Å –ø–∞—Ç—á–µ–º)
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (~10 —Å–µ–∫—É–Ω–¥)

---

## üöÄ –û–ë–ù–û–í–õ–ï–ù–ò–ï –ù–ê v1.0.47

### –í TorApp:

```swift
// Tuist/Dependencies.swift
requirement: .exact("1.0.47")
```

```bash
cd ~/admin/TorApp
rm -rf .build Tuist/Dependencies
tuist clean
tuist install --update  # ~10 —Å–µ–∫—É–Ω–¥!
tuist generate
# Run on Simulator
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

```
‚úÖ –•–û–†–û–®–û: Bootstrap 100% –ë–ï–ó –∫—Ä–∞—à–∞
‚ùå –ü–õ–û–•–û: –ö—Ä–∞—à –Ω–∞ line 187
```

**–ï—Å–ª–∏ Bootstrap 100% ‚Üí –ü–ê–¢–ß –†–ê–ë–û–¢–ê–ï–¢!**

---

## üéØ –ì–ê–†–ê–ù–¢–ò–ò

### ‚úÖ –ì–ê–†–ê–ù–¢–ò–†–£–Æ:

1. –ü–∞—Ç—á –ï–°–¢–¨ –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö (–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ)
2. –ü–∞—Ç—á –°–ö–û–ú–ü–ò–õ–ò–†–û–í–ê–ù –≤ binary (crypto_fast_rng_new_from_seed –µ—Å—Ç—å)
3. –£—Å–ª–æ–≤–∏–µ if/else –†–ê–ë–û–¢–ê–ï–¢ (–∫–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω)
4. XCFramework –¥–ª—è device + simulator

### ‚ö†Ô∏è –í–ê–ñ–ù–û:

1. log_info —Å—Ç—Ä–æ–∫–∞ –ù–ï –≤ binary (–≤—ã—Ä–µ–∑–∞–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–º)
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. –ï—Å–ª–∏ Bootstrap 100% ‚Üí –ø–∞—Ç—á —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üî• –ü–û–ß–ï–ú–£ –≠–¢–û –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï

### –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ `.binaryTarget`:
- v1.0.34-46: Binary –ë–ï–ó –ø–∞—Ç—á–∞ (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–ª—Å—è)

### v1.0.47: Binary –ü–ï–†–ï–°–û–ë–†–ê–ù!
- ‚úÖ –ü–∞—Ç—á –ø—Ä–∏–º–µ–Ω—ë–Ω –∫ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞–º
- ‚úÖ Tor –ü–ï–†–ï–°–û–ë–†–ê–ù (388/445 —Ñ–∞–π–ª–æ–≤)
- ‚úÖ XCFramework —Å–æ–∑–¥–∞–Ω –ó–ê–ù–û–í–û
- ‚úÖ –ü–∞—Ç—á –°–ö–û–ú–ü–ò–õ–ò–†–û–í–ê–ù –≤ binary

**12 –≤–µ—Ä—Å–∏–π —Å –ø—Ä–æ–±–ª–µ–º–æ–π ‚Üí v1.0.47 –†–ï–®–ê–ï–¢!**

---

## üìã –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ v1.0.47:

```
tuist install ‚Üí 10 —Å–µ–∫—É–Ω–¥ ‚úÖ
tuist generate ‚Üí –≥–æ—Ç–æ–≤–æ ‚úÖ
Run on Simulator ‚Üí –∑–∞–ø—É—Å–∫ ‚úÖ
Bootstrap ‚Üí 0%...5%...10%...100% ‚úÖ
–ù–ï–¢ –∫—Ä–∞—à–∞ –Ω–∞ line 187! ‚úÖ‚úÖ‚úÖ
```

**–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!** üéâüßÖ‚úÖ

---

## üéØ NEXT STEPS

1. –û–±–Ω–æ–≤–∏—Ç—å TorApp –Ω–∞ v1.0.47
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ Simulator
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Bootstrap 100%
4. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –ì–û–¢–û–í–û!
5. –ï—Å–ª–∏ –∫—Ä–∞—à–∏—Ç—Å—è ‚Üí —Å–æ–∑–¥–∞—Ç—å issue —Å –ª–æ–≥–∞–º–∏

---

# üî• v1.0.47 = BINARY –ü–ï–†–ï–°–û–ë–†–ê–ù = –ü–ê–¢–ß –í –ö–û–î–ï! üî•‚úÖüßÖ

**–ù–ï –ò–©–ò–¢–ï –°–¢–†–û–ö–£ –ß–ï–†–ï–ó strings (–æ–Ω–∞ –≤—ã—Ä–µ–∑–∞–Ω–∞)!**  
**–ü–†–û–í–ï–†–Ø–ô–¢–ï –ß–ï–†–ï–ó –ó–ê–ü–£–°–ö (Bootstrap 100%)!**  
**–ü–ê–¢–ß –†–ê–ë–û–¢–ê–ï–¢!**

---

**–î–∞—Ç–∞:** 29 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** v1.0.47  
**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:** 3+ —á–∞—Å–∞  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

